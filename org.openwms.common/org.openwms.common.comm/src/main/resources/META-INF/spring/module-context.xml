<?xml version="1.0" encoding="UTF-8"?>
<!--
/*
 * openwms.org, the Open Warehouse Management System.
 * Copyright (C) 2014 Heiko Scherrer
 *
 * This file is part of openwms.org.
 *
 * openwms.org is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as 
 * published by the Free Software Foundation; either version 2 of the
 * License, or (at your option) any later version.
 *
 * openwms.org is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with this software. If not, write to the Free Software
 * Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA
 * 02110-1301 USA, or see the FSF site: http://www.fsf.org.
 */
-->
<beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:ip="http://www.springframework.org/schema/integration/ip"
       xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd

            /ip http://www.springframework.org/schema/integration/ip/spring-integration-ip.xsd
            http://www.springframework.org/schema/integration">

    <!--bean id="deserializer" class="org.springframework.core.serializer.DefaultDeserializer"/-->

    <!--task:executor id="taskExecutor" queue-capacity="25"/-->

    <!--ip:tcp-connection-factory id="tcpConnectionFactory" type="server" port="30000" so-timeout="300000" using-nio="false"
                               serializer="telegramSerializer" deserializer="byteArraySerializer" so-receive-buffer-size="160"
                               so-send-buffer-size="160" mapper="mapper" /-->
    <!--bean id="mapper"
          class="org.openwms.common.comm.tcp.CustomTcpMessageMapper">
        <constructor-arg name="outboundMessageConverter">
            <bean class="org.springframework.integration.support.converter.MapMessageConverter">
                <property name="headerNames">
                    <list>
                        <value>SYNC_FIELD</value>
                        <value>SENDER</value>
                        <value>MSG_LENGTH</value>
                        <value>SEQUENCENO</value>
                        <value>RECEIVER</value>
                        <value>ip_connectionId</value>
                    </list>
                </property>
            </bean>
        </constructor-arg>
        <constructor-arg name="inboundMessageConverter">
            <bean class="org.springframework.messaging.converter.ByteArrayMessageConverter"/>
        </constructor-arg>
    </bean-->



    <ip:tcp-inbound-channel-adapter id="inboundAdapter" channel="inboundChannel"
                                    connection-factory="tcpConnectionFactory"/>

    <!--int:channel id="enrichedOutboundChannel" /-->
    <ip:tcp-outbound-channel-adapter id="outboundAdapter" channel="enrichedOutboundChannel"
                                     connection-factory="tcpConnectionFactory" />

</beans>
